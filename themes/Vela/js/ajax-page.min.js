!function(t){"use strict";t.extend(wyde.page,{isLoad:!1,started:!1,ajaxPage:function(e){if(this.settings=t.extend({search:".ajax-search-form",scope:this.scope.page,ignoreSelectors:"",transition:"fade"},e),"undefined"!=typeof ajax_page_settings&&(this.settings=t.extend(this.settings,ajax_page_settings)),this.searchPath="",this.ignoreURLs=[],this.ignoreURLs.push("wp-login"),this.ignoreURLs.push("wp-admin"),this.ignoreURLs.push("wp-content"),this.ignoreURLs.push("/shop/"),this.ignoreURLs.push("/product/"),this.ignoreURLs.push("/cart/"),this.ignoreURLs.push("/checkout/"),this.ignoreURLs.push("/my-account/"),!t("body").hasClass("woocommerce")&&!t("body").hasClass("woocommerce-page")){var s=this;t(this.settings.ignoreSelectors).each(function(){"a"==this.tagName.toLowerCase()?s.ignoreURLs.push(this.href):t(this).find("a").each(function(){s.ignoreURLs.push(this.href)})}),window.history.pushState&&t(window).off("popstate").on("popstate",function(){s.started!==!0||s.isIgnore(document.location)||s.loadContent(document.location.toString(),!0)}),setTimeout(function(){s.updateLink()},100),s.settings.search&&t(s.settings.search).each(function(){t(this).attr("action")&&(s.searchPath=t(this).attr("action"),t(this).submit(function(){return s.submitSearch(t(this).serialize()),!1}))})}},updateLink:function(e){var s=this;t("a:not(.no-ajax)",e?e:document.body).each(function(){!(this.href.indexOf(s.siteURL)>-1)||this.target&&"_self"!=this.target||s.isIgnore(this)||t(this).off("click").on("click",function(t){t.preventDefault(),this.blur(),s.loadContent(this.href)})})},hideContent:function(e){this.loader=t("#ajax-loader"),this.loader.length||(this.loader=t('<div id="ajax-loader" style="display:none;"/>'),t("body").append(this.loader));var s=this,i=t(s.settings.scope);s.settings.scope==s.scope.content&&i.add("#slider");var o=t(window).width()+100,n=t(window).height()+100,a=!1;switch(s.settings.transition){case"fade":i.animate({opacity:0},800,function(){a=!0});break;case"slideToggle":i.css({position:"relative"}).animate({left:-o},1e3,"easeInOutExpo",function(){t("body").css({overflow:"hidden"}),a=!0});break;case"slideLeft":i.css({position:"relative"}).animate({left:-o},1e3,"easeInOutExpo",function(){t("body").css({overflow:"hidden"}),a=!0});break;case"slideRight":i.css({position:"relative"}).animate({left:o},1e3,"easeInOutExpo",function(){t("body").css({overflow:"hidden"}),a=!0});break;case"slideUp":i.css({position:"relative"}).animate({top:-n,opacity:0},1e3,"easeInOutExpo",function(){t("body").css({overflow:"hidden"}),a=!0});break;case"slideDown":i.css({position:"relative"}).animate({top:n,opacity:0},1e3,"easeInOutExpo",function(){t("body").css({overflow:"hidden"}),a=!0})}t(s.loader).delay(300).fadeIn(500,function(){s.scrollTo(0,{duration:0==t(window).scrollTop()?0:100})}),"function"==typeof e&&e()},showContent:function(e){var s=this;s.loader.fadeOut("fast",function(){var i=t(s.settings.scope);s.settings.scope==s.scope.content&&i.add("#slider");var o=t(window).width()+100,n=t(window).height()+100,a=!1;switch(s.settings.transition){case"fade":i.animate({opacity:1},800,function(){a=!0});break;case"slideToggle":i.animate({left:0},1e3,"easeInOutExpo",function(){t("body").css({overflow:""}),t(this).css("position",""),a=!0});break;case"slideLeft":i.css({left:o}).animate({left:0},1e3,"easeInOutExpo",function(){t("body").css({overflow:""}),t(this).css("position",""),a=!0});break;case"slideRight":i.css({left:-o}).animate({left:0},1e3,"easeInOutExpo",function(){t("body").css({overflow:""}),t(this).css("position",""),a=!0});break;case"slideUp":i.css({top:n}).animate({top:0,opacity:1},1e3,"easeInOutExpo",function(){t("body").css({overflow:""}),t(this).css("position",""),a=!0});break;case"slideDown":i.css({top:-n}).animate({top:0,opacity:1},1e3,"easeInOutExpo",function(){t("body").css({overflow:""}),t(this).css("position",""),a=!0})}"function"==typeof e&&(a?e():setTimeout(function(){e()},1e3))})},getNodeAttribute:function(t,e,s){var i=new RegExp(String.format("<{0} {1}=[\"'](.*)[\"'].*>",e,s)),o=i.exec(t);return o&&o[1]?o[1]:!1},updateToolBar:function(e){if(t("#wpadminbar").length>0){var s=t(e).find("#wpadminbar");s&&t("#wpadminbar").html(s.html())}},updateHead:function(e){window.$=jQuery,t("head").find("style[data-type='vc_custom-css']").remove(),t("head").find("style[data-type='vc_shortcodes-custom-css']").remove();var s=t(e).filter("style[data-type='vc_custom-css']");s&&t("head").append(s);var i=t(e).filter("style[data-type='vc_shortcodes-custom-css']");i&&t("head").append(i),t("head").find("title").replaceWith(t(e).filter("title"));var o=this.getNodeAttribute(e,"body","class");o&&t("body").removeClass().addClass(o)},googleTracking:function(){"function"==typeof ga&&ga(function(){var e=ga.getAll();t.each(e,function(t,e){e.send("pageview")})})},updateContent:function(e){if(window.$=jQuery,this.clearVCClass(),this.settings.scope==this.scope.content){var s=t(e).find("#slider");s.length?t("#slider").length?t("#slider").html(s.html()):t("#header").hasClass("below-slider")?t("#header").before(s):t("#header").after(s):t("#slider").remove()}var i=t(e).find(this.settings.scope);i.length&&t(this.settings.scope).html(i.html()),this.updateHead(e),this.updateToolBar(e),this.googleTracking()},pauseSlider:function(){t(".rev_slider").length&&"function"==typeof t.fn.revolution&&(t.fn.revredraw=function(){},t(".rev_slider").revpause())},clearVCClass:function(){},initVCElements:function(){"function"==typeof vc_js&&vc_js()},loadContent:function(e,s){if(!this.isLoad){this.pauseSlider(),t(window).unbind("resize"),this.isLoad=!0,this.started=!0;var i=e.replace(/^.*\/\/[^\/]+/,"");"function"==typeof window.history.pushState?history.pushState({foo:1e3+1001*Math.random()},"Loading...",i):document.location.href="#"+i,this.currentPage=i;var o=this;this.hideContent(function(){t.ajax({type:"GET",url:e,data:s,cache:!1,dataType:"html",success:function(e){o.isLoad=!1,o.updateContent(e),o.showContent(function(){o.settings.scope==o.scope.page&&"function"==typeof o.load?o.load():o.settings.scope==o.scope.content&&"function"==typeof o.contentLoad&&o.contentLoad(),o.initVCElements(),setTimeout(function(){t(window).trigger("resize")},500)})},error:function(){o.isLoad=!1,window.location.href=e},statusCode:{404:function(){console.log("Page not found!")}}})})}},submitSearch:function(t){this.isLoad||this.loadContent(this.searchPath,t)},isIgnore:function(t){if(!t)return!0;var e=t.href?t.href:t.toString();if(!e)return!0;if(e.startWith("#"))return!0;if(t.pathname==window.location.pathname&&e.indexOf("#")>-1)return!0;for(var s in this.ignoreURLs)if(e.indexOf(this.ignoreURLs[s])>-1)return!0;return!1}})}(jQuery);